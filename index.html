<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Марафон ИИ-РЕЖИССУРА | День 1</title>

  <!-- Глобальный перехватчик ошибок -->
  <script>
    function showErrorBox(title, details) {
      // Пытаемся показать ошибку даже если DOM не готов
      try {
        var box = document.getElementById('error-box');
        if (!box) {
          box = document.createElement('div');
          box.id = 'error-box';
          box.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;overflow:auto;background:#fff0f0;color:#b71c1c;padding:20px;z-index:999999;font-family:monospace;font-size:14px;white-space:pre-wrap;box-sizing:border-box;';

          if (document.body) {
            document.body.appendChild(box);
          } else {
            document.documentElement.appendChild(box);
          }
        }
        box.innerHTML += "<strong>" + title + "</strong><br/>" + details + "<br/><hr/>";
      } catch (e) {
        console.error("Error showing error box:", e);
        alert("CRITICAL ERROR: " + title + "\n" + details);
      }
    }

    window.onerror = function (msg, url, line, col, error) {
      if (msg && typeof msg === 'string' && (msg.includes('ResizeObserver') || msg.includes('Script error'))) return;
      showErrorBox("Global Error:", "Msg: " + msg + "\nLine: " + line + "\nStack: " + (error ? error.stack : 'N/A'));
    };

    window.addEventListener('unhandledrejection', function (event) {
      showErrorBox("Unhandled Promise Rejection:", event.reason ? event.reason.stack : event.reason);
    });
  </script>


  <!-- ERUDA DEBUGGER -->
  <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
  <script>
    // Init eruda if ?debug=1 or localStorage has 'debug'
    (function () {
      try {
        var src = new URLSearchParams(window.location.search).get('debug');
        if (src === '1' || localStorage.getItem('debug') === 'true') {
          if (typeof eruda !== 'undefined') {
            eruda.init();
            console.log('Eruda initialized');
          } else {
            console.warn('Eruda not loaded');
            showErrorBox("Warning", "Eruda debugger requested but script setup failed to load.");
          }
        }
      } catch (e) { console.error(e); }
    })();
  </script>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Nunito', 'sans-serif'],
          },
          colors: {
            warm: {
              50: '#FDFBF7',
              100: '#F9F5EC',
              200: '#EBE5D5',
              300: '#D8D0BA',
              400: '#B8AF98',
              500: '#9C9278',
              600: '#7A7058',
              700: '#5C5442',
              800: '#423D33',
              900: '#2B2822',
            }
          }
        }
      }
    }
  </script>
  <style>
    body {
      background-color: #FDFBF7;
    }

    #root:empty::before {
      content: 'Загрузка приложения...';
      display: block;
      text-align: center;
      margin-top: 50px;
      color: #7A7058;
      font-family: sans-serif;
    }
  </style>

  <script type="module" crossorigin src="./assets/index-DHIFiIAi.js"></script>
  <script
    type="module">import.meta.url; import("_").catch(() => 1); (async function* () { })().next(); if (location.protocol != "file:") { window.__vite_is_modern_browser = true }</script>
  <script
    type="module">!function () { if (window.__vite_is_modern_browser) return; console.warn("vite: loading legacy chunks, syntax error above and the same error below should be ignored"); var e = document.getElementById("vite-legacy-polyfill"), n = document.createElement("script"); n.src = e.src, n.onload = function () { System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src')) }, document.body.appendChild(n) }();</script>
</head>

<body>
  <div id="root">
    <!-- INITIAL LOADING STATE -->
    <div
      style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; color:#9C9278; font-family:sans-serif;">
      <svg style="width:48px; height:48px; animation:spin 1s linear infinite; margin-bottom:16px;"
        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle style="opacity:0.25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path style="opacity:0.75" fill="currentColor"
          d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
        </path>
      </svg>
      <p>Запуск...</p>
      <style>
        @keyframes spin {
          from {
            transform: rotate(0deg);
          }

          to {
            transform: rotate(360deg);
          }
        }
      </style>
    </div>
  </div>
  <script
    nomodule>!function () { var e = document, t = e.createElement("script"); if (!("noModule" in t) && "onbeforeload" in t) { var n = !1; e.addEventListener("beforeload", (function (e) { if (e.target === t) n = !0; else if (!e.target.hasAttribute("nomodule") || !n) return; e.preventDefault() }), !0), t.type = "module", t.src = ".", e.head.appendChild(t), t.remove() } }();</script>
  <script nomodule crossorigin id="vite-legacy-polyfill" src="./assets/polyfills-legacy-C2myl766.js"></script>
  <script nomodule crossorigin id="vite-legacy-entry"
    data-src="./assets/index-legacy-bCqp_3fN.js">System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))</script>
</body>

</html>